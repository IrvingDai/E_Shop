<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.xy.dao.OperatorDao">

    <select id="getOperatorByAccount" resultType="cn.xy.bean.Operator">
        select * from operator where operator_account = #{operatorAccount}
    </select>

    <select id="getOrderdetailsByOperator" resultType="cn.xy.bean.OperatorOrderDetails">
        select od.od_id,o.order_time,u.user_name,u.user_phone,o.order_address,g.goods_name,od.quantity,od.details_price,od.details_status
        from order_details as od,orders as o,users as u,goods as g
        where od.order_id=o.order_id and o.user_id=u.user_id and od.goods_id=g.goods_id and g.type_id = #{typeId} and od.details_status!="delete"
    </select>

    <select id="getTypeIdByOperator"  resultType="int">
        select type_id
        from operator_goodstype
        where operator_id = #{operatorId}
    </select>

    <select id="getTypeByOperator"  resultType="cn.xy.bean.GoodsType">
        select *
        from goods_type
        where type_id = #{type_id}
    </select>

    <select id="getNormalOperator" resultType="cn.xy.bean.Operator">
        select *
        from operator
        where operator_type="normal"
    </select>

</mapper>