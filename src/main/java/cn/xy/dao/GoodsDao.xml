<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.xy.dao.GoodsDao">
    <select id="getAllGoodsList"
            resultType="cn.xy.bean.Goods">
        SELECT *
        FROM goods
        ORDER BY type_id
    </select>

    <select id="getGoodsById" parameterType="int"
            resultType="cn.xy.bean.Goods">
        SELECT *
        FROM goods
        WHERE goods_id = #{goodsId}
    </select>

    <select id="getGoodsByType" resultType="cn.xy.bean.Goods">
        select *
        from goods
        where type_id=#{TypeId} and goods_status = 'active'
    </select>

    <insert id="addGoods" >
        insert into goods
        values(#{goods_id},#{type_id},#{goods_name},#{inventory},#{description},#{price},'default','active',0)
    </insert>

    <update id="modifyGoods" >
        update goods
        set goods_name=#{goods_name},inventory=#{inventory},description=#{description},price=#{price}
        where goods_id=#{goods_id}
    </update>

    <update id="deleteGoods" >
        update goods
        set goods_status='delete'
        where goods_id=#{goods_id}
    </update>

</mapper>

